#!/bin/bash
# diamond
# http://github.com/iandennismiller/diamond

SKEL_TYPE=$1
DESTINATION=$2

function usage() {
cat <<-EOF

    Diamond - http://github.com/iandennismiller/diamond

    Usage: diamond [pattern] [destination]

    Options:

        -h, --help          output help information

    Patterns:

        article             a LaTeX article
        analysis            an R project
        python              Python module for pypi
        website             a Jekyll website

EOF
}

function scaffold() {
    echo "create project type '${SKEL_TYPE}' in '${DESTINATION}'"
    mrbob -w "${VIRTUAL_ENV}/share/skels/${SKEL_TYPE}" -O "${DESTINATION}"
    exit
}

# handle the case where there are not enough arguments

if test $# -lt 2; then
    usage
    exit
fi

# handle arguments

while test $# -ne 0; do
    arg=$1; shift
    case $arg in
        -h|--help) usage; exit ;;
        article|analysis|python|website) scaffold $SKEL_TYPE $DESTINATION; exit ;;
    esac
done
